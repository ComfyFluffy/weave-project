
### 1.1 用户注册功能

**测试 ID**: AUTH-REG-001  
**测试标题**: 新用户注册成功  
**前置条件**: 用户未注册过账户  
**测试步骤**:  
1. 访问注册页面 (`/auth/register`)  
2. 输入有效的显示名称（3-100个字符）  
3. 输入有效的电子邮件地址  
4. 输入有效的密码（6-20个字符）  
5. 点击"注册"按钮  

**预期结果**:  
- 注册成功，系统创建新用户账户  
- 用户自动登录并重定向到主应用页面 (`/app`)  
- 系统生成JWT令牌并保存在本地存储中  

**优先级**: 高  

---

**测试 ID**: AUTH-REG-002  
**测试标题**: 使用已存在的电子邮件注册失败  
**前置条件**: 系统中已存在一个账户  
**测试步骤**:  
1. 访问注册页面 (`/auth/register`)  
2. 输入有效的显示名称  
3. 输入已存在的电子邮件地址  
4. 输入有效的密码  
5. 点击"注册"按钮  

**预期结果**:  
- 系统显示错误消息，提示该电子邮件已被注册  
- 用户保持在注册页面  
- 未创建新用户账户  

**优先级**: 高  

---

### 1.2 用户登录功能

**测试 ID**: AUTH-LOGIN-001  
**测试标题**: 已注册用户登录成功  
**前置条件**: 系统中已存在一个有效账户  
**测试步骤**:  
1. 访问登录页面 (`/auth/login`)  
2. 输入已注册的电子邮件地址  
3. 输入正确的密码  
4. 点击"登录"按钮  

**预期结果**:  
- 登录成功，系统验证用户凭据  
- 用户重定向到主应用页面 (`/app`)  
- 系统生成JWT令牌并保存在本地存储中  

**优先级**: 高  

---

**测试 ID**: AUTH-LOGIN-002  
**测试标题**: 使用错误的凭据登录失败  
**前置条件**: 系统中已存在一个有效账户  
**测试步骤**:  
1. 访问登录页面 (`/auth/login`)  
2. 输入已注册的电子邮件地址  
3. 输入错误的密码  
4. 点击"登录"按钮  

**预期结果**:  
- 系统显示错误消息，提示用户不存在或密码错误  
- 用户保持在登录页面  
- 未生成授权令牌  

**优先级**: 高  

---

### 1.3 用户登出功能

**测试 ID**: AUTH-LOGOUT-001  
**测试标题**: 已登录用户成功登出  
**前置条件**: 用户已成功登录系统  
**测试步骤**:  
1. 在应用界面中找到并点击用户头像或用户名  
2. 在弹出的用户菜单中点击"登出"选项  

**预期结果**:  
- 用户成功登出系统  
- 系统清除本地存储中的JWT令牌  
- 用户重定向到登录页面 (`/auth/login`)  

**优先级**: High  

---

## 2. 世界管理系统测试用例

### 2.1 创建世界功能

**测试 ID**: WORLD-CREATE-001  
**测试标题**: 成功创建新世界  
**前置条件**: 用户已成功登录系统  
**测试步骤**:  
1. 在应用界面中找到并点击"创建世界"按钮  
2. 输入有效的世界名称  
3. 输入有效的描述信息  
4. 选择相关的标签  
5. 输入规则信息  
6. 点击"创建"按钮  

**预期结果**:  
- 系统成功创建新世界  
- 新世界出现在世界列表中  
- 用户自动被添加到新世界中  

**优先级**: 高  

---

### 2.2 世界查看功能

**测试 ID**: WORLD-VIEW-001  
**测试标题**: 成功查看世界详情  
**前置条件**: 
- 用户已成功登录系统  
- 系统中存在至少一个世界  
**测试步骤**:  
1. 在世界列表中选择一个世界  
2. 点击该世界以查看详情  

**预期结果**:  
- 系统显示世界的详细信息（名称、描述、标签、规则等）  
- 显示该世界的频道列表  
- 显示该世界的成员列表  

**优先级**: 高  

---

### 2.3 世界更新功能

**测试 ID**: WORLD-UPDATE-001  
**测试标题**: 成功更新世界信息  
**前置条件**:  
- 用户已成功登录系统  
- 用户是世界所有者或管理员  
- 系统中存在至少一个世界  
**测试步骤**:  
1. 选择一个用户有权限编辑的世界  
2. 点击"编辑世界"按钮  
3. 修改世界的信息（如名称、描述、标签、规则等）  
4. 点击"保存"按钮  

**预期结果**:  
- 系统成功更新世界信息  
- 世界列表和详情页显示更新后的信息  

**优先级**: 高  

---

### 2.4 世界删除功能

**测试 ID**: WORLD-DELETE-001  
**测试标题**: 成功删除世界  
**前置条件**:  
- 用户已成功登录系统  
- 用户是世界所有者或管理员  
- 系统中存在至少一个世界  
**测试步骤**:  
1. 选择一个用户有权限删除的世界  
2. 点击"删除世界"按钮  
3. 在确认对话框中确认删除操作  

**预期结果**:  
- 系统成功删除该世界  
- 该世界不再出现在世界列表中  

**优先级**: 中  

---

## 3. 角色管理系统测试用例

### 3.1 创建角色功能

**测试 ID**: CHAR-CREATE-001  
**测试标题**: 成功创建新角色  
**前置条件**:  
- 用户已成功登录系统  
- 用户已加入至少一个世界  
**测试步骤**:  
1. 在应用界面中找到并点击"创建角色"按钮  
2. 输入有效的角色名称  
3. 输入角色描述  
4. 选择或上传角色头像  
5. 点击"创建"按钮  

**预期结果**:  
- 系统成功创建新角色  
- 新角色出现在角色列表中  

**优先级**: 高  

---

### 3.2 角色查看功能

**测试 ID**: CHAR-VIEW-001  
**测试标题**: 成功查看角色详情  
**前置条件**:  
- 用户已成功登录系统  
- 系统中存在至少一个角色  
**测试步骤**:  
1. 在角色列表中选择一个角色  
2. 点击该角色以查看详情  

**预期结果**:  
- 系统显示角色的详细信息（名称、描述、头像等）  
- 显示角色的状态信息（位置、物品、属性等）  
- 显示角色的关系网络  

**优先级**: 高  

---

### 3.3 角色更新功能

**测试 ID**: CHAR-UPDATE-001  
**测试标题**: 成功更新角色信息  
**前置条件**:  
- 用户已成功登录系统  
- 用户是角色所有者或有编辑权限  
- 系统中存在至少一个角色  
**测试步骤**:  
1. 选择一个用户有权限编辑的角色  
2. 点击"编辑角色"按钮  
3. 修改角色的信息（如名称、描述、头像等）  
4. 点击"保存"按钮  

**预期结果**:  
- 系统成功更新角色信息  
- 角色列表和详情页显示更新后的信息  

**优先级**: 高  

---

### 3.4 角色删除功能

**测试 ID**: CHAR-DELETE-001  
**测试标题**: 成功删除角色  
**前置条件**:  
- 用户已成功登录系统  
- 用户是角色所有者或有删除权限  
- 系统中存在至少一个角色  
**测试步骤**:  
1. 选择一个用户有权限删除的角色  
2. 点击"删除角色"按钮  
3. 在确认对话框中确认删除操作  

**预期结果**:  
- 系统成功删除该角色  
- 该角色不再出现在角色列表中  

**优先级**: 中  

---

## 4. 消息传递系统测试用例

### 4.1 发送消息功能

**测试 ID**: MSG-SEND-001  
**测试标题**: 成功发送文本消息  
**前置条件**:  
- 用户已成功登录系统  
- 用户已加入至少一个世界和频道  
**测试步骤**:  
1. 在频道列表中选择一个频道  
2. 在消息输入框中输入文本消息  
3. 点击"发送"按钮或按Enter键  

**预期结果**:  
- 消息成功发送到频道  
- 消息显示在频道消息列表中  
- 其他在线用户能实时看到该消息  

**优先级**: 高  

---

### 4.2 消息查看功能

**测试 ID**: MSG-VIEW-001  
**测试标题**: 成功查看频道消息历史  
**前置条件**:  
- 用户已成功登录系统  
- 用户已加入至少一个包含消息历史的频道  
**测试步骤**:  
1. 在频道列表中选择一个频道  
2. 滚动浏览消息列表  

**预期结果**:  
- 系统按时间顺序显示频道中的消息  
- 消息显示发送者、时间戳和内容  
- 可以查看完整的消息历史  

**优先级**: 高  

---

### 4.3 实时消息同步功能

**测试 ID**: MSG-SYNC-001  
**测试标题**: 实时接收新消息  
**前置条件**:  
- 用户已成功登录系统  
- 用户已加入至少一个频道  
- 至少有另一个用户在同一频道发送消息  
**测试步骤**:  
1. 在频道列表中选择一个频道  
2. 保持频道页面打开  
3. 等待或让另一用户在频道中发送消息  

**预期结果**:  
- 新消息实时显示在消息列表中  
- 无需刷新页面即可看到新消息  
- 消息按正确的时间顺序显示  

**优先级**: 高  

---

## 5. 世界状态管理系统测试用例

### 5.1 查看世界状态功能

**测试 ID**: STATE-VIEW-001  
**测试标题**: 成功查看世界状态  
**前置条件**:  
- 用户已成功登录系统  
- 用户已加入至少一个世界  
- 世界有世界状态数据  
**测试步骤**:  
1. 在世界列表中选择一个世界  
2. 导航到世界状态管理界面  

**预期结果**:  
- 系统显示世界的当前状态  
- 显示角色状态信息  
- 显示位置信息  
- 显示事件时间线  
- 显示剧情信息  
- 显示物品信息  

**优先级**: 高  

---

### 5.2 更新角色状态功能

**测试 ID**: STATE-CHAR-UPDATE-001  
**测试标题**: 成功更新角色状态  
**前置条件**:  
- 用户已成功登录系统  
- 用户是GM或有权限编辑角色状态  
- 世界中存在至少一个角色  
**测试步骤**:  
1.在世界状态管理界面选择一个角色  
2. 修改角色的状态信息（如HP、位置、物品等）  
3. 点击"保存"按钮  

**预期结果**:  
- 系统成功更新角色状态  
- 更新后的状态信息正确显示  
- 状态变更记录在事件日志中  

**优先级**: 高  

---

### 5.3 添加事件功能

**测试 ID**: STATE-EVENT-ADD-001  
**测试标题**: 成功添加新事件  
**前置条件**:  
- 用户已成功登录系统  
- 用户是GM或有权限添加事件  
**测试步骤**:  
1. 在世界状态管理界面导航到事件时间线  
2. 点击"添加事件"按钮  
3. 输入事件信息（标题、类型、描述、参与者等）  
4. 点击"保存"按钮  

**预期结果**:  
- 系统成功添加新事件  
- 新事件显示在事件时间线中  
- 事件信息正确保存和显示  

**优先级**: 高  

---

### 5.4 管理位置功能

**测试 ID**: STATE-LOCATION-MANAGE-001  
**测试标题**: 成功添加和编辑位置  
**前置条件**:  
- 用户已成功登录系统  
- 用户是GM或有权限管理位置  
**测试步骤**:  
1. 在世界状态管理界面导航到位置管理  
2. 点击"添加位置"按钮  
3. 输入位置信息（名称、描述、连接位置等）  
4. 点击"保存"按钮  
5. 选择一个已存在的位置并点击"编辑"  
6. 修改位置信息  
7. 点击"保存"按钮  

**预期结果**:  
- 系统成功添加新位置  
- 系统成功更新位置信息  
- 位置列表正确显示所有位置  
- 位置之间的连接关系正确显示  

**优先级**: 高  

---

## 6. 性能和错误处理测试用例

### 6.1 系统性能测试

**测试 ID**: PERF-LOAD-001  
**测试标题**: 大量数据加载性能  
**前置条件**:  
- 用户已成功登录系统  
- 系统中存在大量数据（如多个世界、角色、消息等）  
**测试步骤**:  
1. 测量世界列表加载时间  
2. 测量频道消息列表加载时间  
3. 测量世界状态加载时间  

**预期结果**:  
- 世界列表加载时间 < 3秒  
- 消息列表加载时间 < 2秒  
- 世界状态加载时间 < 5秒  
- 界面响应流畅，无明显卡顿  

**优先级**: 中  

---

### 6.2 错误处理测试

**测试 ID**: ERROR-HANDLING-001  
**测试标题**: 网络断开连接处理  
**前置条件**:  
- 用户已成功登录系统  
- 用户正在使用应用  
**测试步骤**:  
1. 断开网络连接  
2. 尝试执行需要网络的操作（如发送消息、更新状态等）  
3. 恢复网络连接  

**预期结果**:  
- 系统检测到网络断开并显示适当的消息  
- 网络恢复后系统自动重新连接  
- 离线期间输入的数据在网络恢复后正确提交  

**优先级**: 中  

---

## 术语定义

| 术语 | 定义 |
|------|------|
| 用户 | 使用 Weave 平台的注册账户 |
| 世界 | 游戏的虚拟环境，包含频道、成员和状态 |
| 角色 | 用户在世界中扮演的虚拟角色 |
| 频道 | 世界中的聊天空间，用于用户交流 |
| 世界状态 | 世界的当前状态，包括角色、地点、事件等信息 |
| GM | 游戏主持人，负责管理游戏世界和故事进展 |
| 玩家 | 参与游戏的用户，通过角色与世界互动 |

---

**版本历史**

| 版本 | 日期 | 作者 | 变更说明 |
|------|------|------|----------|
| 1.0 | 2025-08-29 | 测试团队 | 初始版本 |
